# äº•å­—æ£‹å†³æ–—åœº - å®Œæ•´äº¤äº’æµç¨‹

## 1. åˆå§‹åŒ–æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·æ‰“å¼€Webç•Œé¢                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æµè§ˆå™¨åŠ è½½ index.html + CSSæ¨¡å— + JSæ¨¡å—                         â”‚
â”‚  (layout.css, board.css, main.js, gameController.jsç­‰)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GameController åˆå§‹åŒ–                                            â”‚
â”‚  - åˆ›å»º ApiClient (å¤„ç†APIè°ƒç”¨)                                  â”‚
â”‚  - åˆ›å»º GameStateManager (ç®¡ç†æ¸¸æˆçŠ¶æ€)                          â”‚
â”‚  - åˆ›å»º UIManager (ç®¡ç†UIæ¸²æŸ“)                                   â”‚
â”‚  - åˆ›å»º EventHandler (å¤„ç†ç”¨æˆ·äº¤äº’)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   UIæ˜¾ç¤ºæ¨¡å¼é€‰æ‹©æŒ‰é’®å’Œå¼€å§‹æŒ‰é’®   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. æ¸¸æˆåˆ›å»ºæµç¨‹ (äººç±» vs AI)

```
ç”¨æˆ·é€‰æ‹©æ¨¡å¼: äººç±» vs AI
     â†“
ç”¨æˆ·ç‚¹å‡» "å¼€å§‹æ¸¸æˆ" æŒ‰é’®
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GameController.startGame()                    â”‚
â”‚ (å‰ç«¯ - gameController.js)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ApiClient.createGame({                        â”‚
â”‚   player_x_type: 'human',                     â”‚
â”‚   player_o_type: 'ai'                         â”‚
â”‚ })                                            â”‚
â”‚                                               â”‚
â”‚ å‘é€ POST /api/game/create                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ HTTP POST
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ç½‘ç»œ (HTTPè¯·æ±‚)            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Flask Backend (app.py)                  â”‚
        â”‚                                         â”‚
        â”‚ @app.route('/api/game/create')         â”‚
        â”‚                                         â”‚
        â”‚ game = game_manager.create_game(       â”‚
        â”‚   'human', 'ai'                        â”‚
        â”‚ )                                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ GameManager (game_manager.py)           â”‚
        â”‚                                         â”‚
        â”‚ 1. åˆ›å»º TicTacToeGame å®ä¾‹              â”‚
        â”‚ 2. ä¿å­˜åˆ° games å­—å…¸                    â”‚
        â”‚ 3. å‘é€ game_created äº‹ä»¶               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ è¿”å›å“åº”:                               â”‚
        â”‚ {                                       â”‚
        â”‚   "status": "success",                  â”‚
        â”‚   "game_id": "uuid-xxx",                â”‚
        â”‚   "game_state": {...}                   â”‚
        â”‚ }                                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ HTTP Response
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ç½‘ç»œ (HTTPå“åº”)            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‰ç«¯æ¥æ”¶å“åº”                                  â”‚
â”‚ - ä¿å­˜ game_id                               â”‚
â”‚ - æ›´æ–° GameStateManager                      â”‚
â”‚ - æ¸²æŸ“æ£‹ç›˜                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ å»ºç«‹ SSE è¿æ¥               â”‚
        â”‚ GET /api/game/{game_id}/events       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ æœåŠ¡å™¨ä¿æŒ SSE è¿æ¥å¼€æ”¾      â”‚
        â”‚ (ç›‘å¬æ¸¸æˆäº‹ä»¶)               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UIå‡†å¤‡å°±ç»ªï¼Œç­‰å¾…ç©å®¶ä¸‹æ£‹                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ç©å®¶ä¸‹æ£‹æµç¨‹ (äººç±»ç©å®¶)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·åœ¨æ£‹ç›˜ä¸Šç‚¹å‡»ä¸€ä¸ªç©ºæ ¼ (ä¾‹å¦‚: 0,0)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EventHandler.setupBoardEvents()           â”‚
â”‚ è§¦å‘ cell.click äº‹ä»¶                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GameController.handleCellClick(0, 0)      â”‚
â”‚                                           â”‚
â”‚ æ£€æŸ¥:                                      â”‚
â”‚ 1. æ˜¯å¦æ˜¯åˆæ³•ç§»åŠ¨?                        â”‚
â”‚ 2. æ˜¯å¦æ˜¯å½“å‰ç©å®¶?                        â”‚
â”‚ 3. æ˜¯å¦æ˜¯è§‚æˆ˜æ¨¡å¼?                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ApiClient.makeMove(                       â”‚
â”‚   game_id,                                â”‚
â”‚   row: 0,                                 â”‚
â”‚   col: 0                                  â”‚
â”‚ )                                         â”‚
â”‚                                           â”‚
â”‚ å‘é€ POST /api/game/{game_id}/move        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“ HTTP POST
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ç½‘ç»œ (HTTPè¯·æ±‚)            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Flask Backend (app.py)                  â”‚
        â”‚                                         â”‚
        â”‚ @app.route('/api/game/<game_id>/move') â”‚
        â”‚ def make_move(game_id):                 â”‚
        â”‚   result = game_manager.make_move(     â”‚
        â”‚     game_id, 0, 0                      â”‚
        â”‚   )                                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ GameManager (game_manager.py)           â”‚
        â”‚                                         â”‚
        â”‚ è·å–æ¸¸æˆå®ä¾‹:                           â”‚
        â”‚ game = games[game_id]                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ TicTacToeGame (game_logic.py)           â”‚
        â”‚                                         â”‚
        â”‚ result = game.make_move(0, 0, 'X')    â”‚
        â”‚                                         â”‚
        â”‚ æ£€æŸ¥:                                   â”‚
        â”‚ 1. ä½ç½®æ˜¯å¦æœ‰æ•ˆ?                        â”‚
        â”‚ 2. è¯¥ä½ç½®æ˜¯å¦ä¸ºç©º?                      â”‚
        â”‚ 3. æ˜¯å¦è·èƒœ?                            â”‚
        â”‚ 4. æ˜¯å¦å¹³å±€?                            â”‚
        â”‚                                         â”‚
        â”‚ æ›´æ–°:                                   â”‚
        â”‚ - board[0][0] = 'X'                    â”‚
        â”‚ - current_player = 'O'                  â”‚
        â”‚ - move_history += [{...}]              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ GameManager å‘é€äº‹ä»¶:                    â”‚
        â”‚                                         â”‚
        â”‚ _add_event(game_id, {                  â”‚
        â”‚   "type": "move",                      â”‚
        â”‚   "player": "X",                       â”‚
        â”‚   "row": 0,                            â”‚
        â”‚   "col": 0,                            â”‚
        â”‚   "next_player": "O"                   â”‚
        â”‚ })                                      â”‚
        â”‚                                         â”‚
        â”‚ (äº‹ä»¶æ·»åŠ åˆ° event_queues[game_id])     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ è¿”å›å“åº”:                               â”‚
        â”‚ {                                       â”‚
        â”‚   "status": "success",                  â”‚
        â”‚   "result": {...},                      â”‚
        â”‚   "game_state": {...}                   â”‚
        â”‚ }                                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“ HTTP Response
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ç½‘ç»œ (HTTPå“åº”)            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‰ç«¯æ¥æ”¶å“åº”                              â”‚
â”‚ - å±€éƒ¨åˆ·æ–° (ä¸æ˜¯å…¨éƒ¨é‡æ–°åŠ è½½)             â”‚
â”‚ - æ›´æ–°æ£‹ç›˜çŠ¶æ€                            â”‚
â”‚ - æ˜¾ç¤ºæ¶ˆæ¯                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. AI è‡ªåŠ¨ä¸‹æ£‹æµç¨‹ (å…³é”®!)

è¿™æ˜¯è‡ªåŠ¨çš„ï¼Œ**ä¸éœ€è¦ç”¨æˆ·æ‰‹åŠ¨è°ƒç”¨**!

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SSE äº‹ä»¶æµæ¥æ”¶ "move" äº‹ä»¶                                â”‚
â”‚ (é€šè¿‡ç¬¬3æ­¥ä¸­ä¿æŒå¼€æ”¾çš„ GET /api/game/{id}/events)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GameController.handleGameEvent(data)                      â”‚
â”‚ (å‰ç«¯ - gameController.js)                               â”‚
â”‚                                                           â”‚
â”‚ æ£€æŸ¥:                                                     â”‚
â”‚ if (data.type === 'move') {                              â”‚
â”‚   handleMoveEvent(data)                                  â”‚
â”‚ }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GameController.handleMoveEvent(data)                      â”‚
â”‚                                                           â”‚
â”‚ 1. æ›´æ–°æœ¬åœ°æ£‹ç›˜çŠ¶æ€                                       â”‚
â”‚    board[row][col] = player                              â”‚
â”‚                                                           â”‚
â”‚ 2. æ›´æ–° UI                                                â”‚
â”‚    - æ›´æ–°æ ¼å­æ˜¾ç¤º                                         â”‚
â”‚    - æ›´æ–°ç§»åŠ¨å†å²                                         â”‚
â”‚    - æ›´æ–°å½“å‰ç©å®¶æŒ‡ç¤º                                     â”‚
â”‚                                                           â”‚
â”‚ 3. æ£€æŸ¥ä¸‹ä¸€ä¸ªç©å®¶                                         â”‚
â”‚    if (next_player === 'O' &&                            â”‚
â”‚        current_player_type === 'ai') {                   â”‚
â”‚      requestAIMove()  // â† è¿™é‡Œ!                         â”‚
â”‚    }                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
                    â†“ å»¶è¿Ÿ 500ms
                    (æ¨¡æ‹Ÿæ€è€ƒæ—¶é—´)
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GameController.requestAIMove()                            â”‚
â”‚                                                           â”‚
â”‚ ApiClient.requestAIMove(game_id)                          â”‚
â”‚                                                           â”‚
â”‚ å‘é€ POST /api/game/{game_id}/ai-move                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ HTTP POST
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ ç½‘ç»œ (HTTPè¯·æ±‚)            â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Flask Backend (app.py)                  â”‚
        â”‚                                         â”‚
        â”‚ @app.route('/api/game/<game_id>/ai-move')â”‚
        â”‚ def ai_move(game_id):                   â”‚
        â”‚   game = game_manager.get_game(game_id)â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ AI å†³ç­– (ai_strategy.py)                 â”‚
        â”‚                                         â”‚
        â”‚ move = simple_ai.get_best_move(game)   â”‚
        â”‚                                         â”‚
        â”‚ ç­–ç•¥ä¼˜å…ˆçº§:                              â”‚
        â”‚ 1. èƒ½èµ¢å°±èµ¢                             â”‚
        â”‚ 2. å¯¹æ‰‹èƒ½èµ¢å°±é˜»æ­¢                       â”‚
        â”‚ 3. å æ®ä¸­å¿ƒ                             â”‚
        â”‚ 4. å æ®è§’è½                             â”‚
        â”‚ 5. å æ®è¾¹ç¼˜                             â”‚
        â”‚                                         â”‚
        â”‚ è¿”å›: (row, col)                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ AI æ‰§è¡Œç§»åŠ¨                              â”‚
        â”‚                                         â”‚
        â”‚ result = game_manager.make_move(       â”‚
        â”‚   game_id, row, col                    â”‚
        â”‚ )                                       â”‚
        â”‚                                         â”‚
        â”‚ (å’Œæ­¥éª¤3ä¸€æ ·çš„æµç¨‹ï¼Œåªæ˜¯æ¢æˆAIä¸‹æ£‹)      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ GameManager å‘é€ "move" äº‹ä»¶             â”‚
        â”‚                                         â”‚
        â”‚ _add_event(game_id, {                  â”‚
        â”‚   "type": "move",                      â”‚
        â”‚   "player": "O",                       â”‚
        â”‚   "row": row,                          â”‚
        â”‚   "col": col,                          â”‚
        â”‚   "next_player": "X"                   â”‚
        â”‚ })                                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ è¿”å› HTTP Response         â”‚
                â”‚ (åŒæ­¥å›å¤å®¢æˆ·ç«¯)            â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‰ç«¯æ¥æ”¶åŒæ­¥å“åº” (ä½†ä¸æ˜¯é€šè¿‡SSE)                         â”‚
â”‚ ä½† SSE äº‹ä»¶æµä¹Ÿä¼šæ¨é€åŒä¸€ä¸ª move äº‹ä»¶                    â”‚
â”‚ (ä¸¤æ¡è·¯éƒ½æœ‰æ›´æ–°)                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  SSE æ¨é€æ›´æ–°     â”‚ â† çœŸæ­£çš„å®æ—¶æ›´æ–°æ¥æº!
                 â”‚                  â”‚
                 â”‚ å›åˆ°ç¬¬4æ­¥         â”‚
                 â”‚ handleMoveEvent()  â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
                        â†“ å¦‚æœæ¸¸æˆç»§ç»­
                   ç”¨æˆ·ç»§ç»­ä¸‹æ£‹
                        â†“
                   (å›åˆ°æ­¥éª¤3)
```

---

## 5. æ¸¸æˆç»“æŸæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä»»ä½•ä¸€æ­¥ (ç”¨æˆ·æˆ–AI) å¯¼è‡´è·èƒœæˆ–å¹³å±€                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ TicTacToeGame.make_move()               â”‚
        â”‚                                         â”‚
        â”‚ æ£€æŸ¥:                                   â”‚
        â”‚ winner = check_winner()                 â”‚
        â”‚ if winner or is_board_full():          â”‚
        â”‚   status = 'finished'                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ GameManager å‘é€ game_over äº‹ä»¶         â”‚
        â”‚                                         â”‚
        â”‚ _add_event(game_id, {                  â”‚
        â”‚   "type": "game_over",                 â”‚
        â”‚   "winner": "X",                       â”‚
        â”‚   "winning_line": [[0,0], [0,2]],      â”‚
        â”‚   "is_draw": False                     â”‚
        â”‚ })                                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
                  SSE æ¨é€äº‹ä»¶
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‰ç«¯ handleGameOverEvent()                               â”‚
â”‚                                                           â”‚
â”‚ 1. ç¦ç”¨æ£‹ç›˜                                               â”‚
â”‚ 2. æ˜¾ç¤ºè·èƒœçº¿æ¡åŠ¨ç”»                                       â”‚
â”‚ 3. æ›´æ–°ç»Ÿè®¡æ•°æ®                                           â”‚
â”‚ 4. æ˜¾ç¤ºæ¸¸æˆç»“æŸæ¨¡æ€æ¡†                                     â”‚
â”‚ 5. æä¾›"å†æ¥ä¸€å±€"æŒ‰é’®                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. å…³é”®çš„æŠ€æœ¯ç‚¹è§£é‡Š

### 6.1 SSE (Server-Sent Events) çš„ä½œç”¨

```
SSE æ˜¯ä¸€ä¸ªæŒä¹…è¿æ¥ï¼ŒæœåŠ¡å™¨å¯ä»¥ä¸»åŠ¨æ¨é€æ•°æ®ç»™å®¢æˆ·ç«¯:

å®¢æˆ·ç«¯                                  æœåŠ¡å™¨
  â”‚                                       â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€ GET /api/game/{id}/events â”€â”€â”€â”€â†’â”‚
  â”‚                                       â”‚
  â”‚â† "connected" event â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                       â”‚
  â”‚â† "move" event â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                       â”‚
  â”‚â† "move" event â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                       â”‚
  â”‚â† "game_over" event â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                       â”‚
  (è¿æ¥ä¿æŒæ‰“å¼€...)
```

**ä¸ºä»€ä¹ˆéœ€è¦SSE?**
- ä¸ç”¨è½®è¯¢ (polling) é¢‘ç¹è¯¢é—®æœåŠ¡å™¨
- å®æ—¶æ€§å¥½
- èŠ‚çœå¸¦å®½

### 6.2 ä¸ºä»€ä¹ˆAIä¸éœ€è¦ç”¨æˆ·è°ƒç”¨?

å…³é”®åœ¨è¿™é‡Œ:

```python
# å‰ç«¯ä»£ç  (gameController.js)

function handleMoveEvent(data) {
  // ... æ›´æ–°æ£‹ç›˜
  
  // å…³é”®é€»è¾‘:
  if (state.shouldRequestAIMove()) {
    // AIè‡ªåŠ¨ä¸‹æ£‹!
    setTimeout(() => {
      this.requestAIMove()
    }, 500)  // å»¶è¿Ÿ500ms
  }
}
```

**æµç¨‹:**
1. ç”¨æˆ·ä¸‹æ£‹ â†’ è°ƒç”¨ `/api/game/{id}/move`
2. æœåŠ¡å™¨å¤„ç†ï¼Œå‘é€ "move" äº‹ä»¶
3. SSE æ¨é€ "move" äº‹ä»¶ç»™æ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯
4. å‰ç«¯æ”¶åˆ°äº‹ä»¶ï¼Œæ£€æŸ¥ä¸‹ä¸€ä¸ªç©å®¶æ˜¯å¦æ˜¯AI
5. **å¦‚æœæ˜¯AIï¼Œè‡ªåŠ¨è°ƒç”¨ `/api/game/{id}/ai-move`**
6. å¾ªç¯å›åˆ°ç¬¬2æ­¥

### 6.3 ä¸¤ä¸ªåŒæ­¥è·¯å¾„

```
ç”¨æˆ·ä¸‹æ£‹:
  POST /api/game/{id}/move
       â†“
  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â†“ (åŒæ­¥å“åº”)        â†“ (SSEæ¨é€)
HTTP Response         Event Stream
  â†“                    â†“
ç«‹å³æ”¶åˆ°ç»“æœ          å®æ—¶æ¨é€äº‹ä»¶
```

**ä¸ºä»€ä¹ˆè¦ä¸¤ä¸ªè·¯å¾„?**
- åŒæ­¥å“åº”: ç«‹å³åé¦ˆï¼Œç¡®ä¿è¯·æ±‚æˆåŠŸ
- SSEæ¨é€: å®æ—¶æ›´æ–°ï¼Œä¿æŒæ‰€æœ‰å®¢æˆ·ç«¯åŒæ­¥

---

## 7. è§‚æˆ˜æ¨¡å¼çš„ä¸åŒ

```
è§‚æˆ˜æ¨¡å¼ (AI vs AI):

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åªå»ºç«‹ SSE è¿æ¥                              â”‚
â”‚ ä¸èƒ½è°ƒç”¨ make_move                          â”‚
â”‚ (æ²¡æœ‰äººç±»ç©å®¶ä¸‹æ£‹)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI vs AI è‡ªåŠ¨å¯¹å¼ˆ:                           â”‚
â”‚                                              â”‚
â”‚ 1. X (AI) ä¸‹æ£‹                               â”‚
â”‚ 2. SSE æ¨é€                                  â”‚
â”‚ 3. æ£€æŸ¥ä¸‹ä¸€ä¸ªæ˜¯O                             â”‚
â”‚ 4. å¦‚æœOæ˜¯AIï¼Œè‡ªåŠ¨è°ƒç”¨ /ai-move             â”‚
â”‚ 5. é‡å¤...                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
   å®Œå…¨è‡ªåŠ¨!
   ç”¨æˆ·åªæ˜¯è§‚çœ‹
```

---

## 8. å®Œæ•´çš„æ—¶é—´çº¿ç¤ºä¾‹

```
æ—¶é—´  æ“ä½œ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
t=0   ç”¨æˆ·é€‰æ‹© "äººç±» vs AI"
t=1   POST /api/game/create
t=2   æ”¶åˆ° game_id
t=3   å»ºç«‹ SSE è¿æ¥
t=4   æ£‹ç›˜æ˜¾ç¤ºï¼Œç­‰å¾…ç”¨æˆ·ä¸‹æ£‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
t=5   ç”¨æˆ·ç‚¹å‡» (0,0)
t=6   POST /api/game/{id}/move [row:0, col:0]
t=7   æœåŠ¡å™¨å¤„ç†ï¼Œå‘é€ "move" äº‹ä»¶
t=8   SSE æ¨é€ "move" äº‹ä»¶
t=9   å‰ç«¯æ›´æ–°æ£‹ç›˜ï¼Œæ˜¾ç¤º X åœ¨ (0,0)
t=10  å‰ç«¯æ£€æŸ¥: ä¸‹ä¸€ä¸ªæ˜¯ 'O' (AI)?  æ˜¯!
t=11  å‰ç«¯è‡ªåŠ¨è°ƒç”¨ POST /api/game/{id}/ai-move
t=12  æœåŠ¡å™¨ AI æ€è€ƒ (SimpleAI.get_best_move())
t=13  AIå†³å®šä¸‹ (1,1)
t=14  æœåŠ¡å™¨å‘é€ "move" äº‹ä»¶
t=15  SSE æ¨é€ "move" äº‹ä»¶
t=16  å‰ç«¯æ›´æ–°æ£‹ç›˜ï¼Œæ˜¾ç¤º O åœ¨ (1,1)
t=17  æ£€æŸ¥: ä¸‹ä¸€ä¸ªæ˜¯ 'X' (äººç±»)?  æ˜¯!
t=18  ç­‰å¾…ç”¨æˆ·ä¸‹æ£‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(ç»§ç»­å¯¹å¼ˆ...)
```

---

## æ€»ç»“

### å…³é”®æµç¨‹:

```
å‰ç«¯                           åç«¯
  â”‚                              â”‚
  â”œâ”€â”€â†’ POST /create game â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
  â”‚â†â”€â”€ game_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                              â”‚
  â”œâ”€â”€â†’ GET /events (SSE) â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ (ä¿æŒè¿æ¥)
  â”‚                              â”‚
  â”œâ”€â”€â†’ POST /move â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
  â”‚â†â”€â”€ response â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                              â”‚
  â”‚â†â”€â”€â”€ move event (SSE) â”€â”€â”€â”€â”€â”€â”€â”€â”‚ (è‡ªåŠ¨æ¨é€)
  â”‚                              â”‚
  â”œâ”€â”€â†’ POST /ai-move â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ (è‡ªåŠ¨è°ƒç”¨!)
  â”‚â†â”€â”€ response â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                              â”‚
  â”‚â†â”€â”€â”€ move event (SSE) â”€â”€â”€â”€â”€â”€â”€â”€â”‚ (è‡ªåŠ¨æ¨é€)
  â”‚                              â”‚
  (å¾ªç¯...)
```

### ä¸‰ä¸ªæ ¸å¿ƒAPI:
1. **POST /api/game/create** - åˆ›å»ºæ¸¸æˆ
2. **POST /api/game/{id}/move** - ä¸‹æ£‹
3. **GET /api/game/{id}/events** - SSE äº‹ä»¶æµ (è‡ªåŠ¨æ¨é€)

AIè‡ªåŠ¨ä¸‹æ£‹çš„ç§˜å¯†: **å‰ç«¯æ ¹æ®SSEæ¨é€çš„äº‹ä»¶ï¼Œè‡ªåŠ¨åˆ¤æ–­å¹¶è°ƒç”¨ `/ai-move`**

å¾ˆç®€æ´å§? ğŸ˜
