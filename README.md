# äº•å­—æ£‹å†³æ–—åœº (Tic-Tac-Toe Arena)

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„äº•å­—æ£‹æ¸¸æˆå¹³å°ï¼Œæ”¯æŒäººæœºå¯¹æˆ˜ã€AIå¯¹æˆ˜å’Œè§‚æˆ˜æ¨¡å¼ã€‚

## ğŸ® åŠŸèƒ½ç‰¹ç‚¹

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **äººç±» vs äººç±»**: ä¸¤ä¸ªç©å®¶é€šè¿‡Webç•Œé¢å¯¹æˆ˜
- âœ… **äººç±» vs AI**: ä¸å†…ç½®AIå¯¹æˆ˜
- âœ… **AI vs AI**: è§‚çœ‹ä¸¤ä¸ªAIç›¸äº’å¯¹å¼ˆ
- âœ… **è§‚æˆ˜æ¨¡å¼**: çº¯è§‚çœ‹æ¨¡å¼ï¼Œä¸å‚ä¸æ¸¸æˆ
- âœ… **å®æ—¶æ›´æ–°**: ä½¿ç”¨SSE (Server-Sent Events) å®æ—¶æ¨é€æ¸¸æˆçŠ¶æ€
- âœ… **å¤–éƒ¨Agentæ¥å…¥**: æ”¯æŒå¤–éƒ¨AI Agentæ¥å…¥è¿›è¡Œå¯¹æˆ˜

### æŠ€æœ¯ç‰¹ç‚¹
- ğŸ¨ **æ¨¡å—åŒ–å‰ç«¯**: HTML + æ¨¡å—åŒ–CSS + æ¨¡å—åŒ–JavaScript
- ğŸ **Pythonåç«¯**: Flask + RESTful API + SSE
- ğŸ¤– **æ™ºèƒ½AI**: åŸºäºMinimaxç®—æ³•çš„AIå¯¹æ‰‹
- ğŸ“Š **ç»Ÿè®¡åŠŸèƒ½**: è®°å½•å†å²æˆ˜ç»©å’Œç§»åŠ¨å†å²
- ğŸ¯ **è§„åˆ™éªŒè¯**: å®Œæ•´çš„æ¸¸æˆè§„åˆ™å’Œéæ³•ç§»åŠ¨æ£€æµ‹

## ğŸ“ é¡¹ç›®ç»“æ„

```
Tic-tac-toe/
â”œâ”€â”€ index.html              # ä¸»é¡µé¢
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/               # æ¨¡å—åŒ–CSS
â”‚   â”‚   â”œâ”€â”€ reset.css      # æ ·å¼é‡ç½®
â”‚   â”‚   â”œâ”€â”€ layout.css     # å¸ƒå±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ board.css      # æ£‹ç›˜æ ·å¼
â”‚   â”‚   â”œâ”€â”€ controls.css   # æ§åˆ¶é¢æ¿æ ·å¼
â”‚   â”‚   â”œâ”€â”€ status.css     # çŠ¶æ€æ˜¾ç¤ºæ ·å¼
â”‚   â”‚   â””â”€â”€ modal.css      # æ¨¡æ€æ¡†æ ·å¼
â”‚   â””â”€â”€ js/                # æ¨¡å—åŒ–JavaScript
â”‚       â”œâ”€â”€ main.js        # å…¥å£æ–‡ä»¶
â”‚       â”œâ”€â”€ api.js         # APIå®¢æˆ·ç«¯
â”‚       â”œâ”€â”€ gameState.js   # æ¸¸æˆçŠ¶æ€ç®¡ç†
â”‚       â”œâ”€â”€ ui.js          # UIç®¡ç†å™¨
â”‚       â”œâ”€â”€ events.js      # äº‹ä»¶å¤„ç†
â”‚       â””â”€â”€ gameController.js  # æ¸¸æˆæ§åˆ¶å™¨
â”œâ”€â”€ app.py                 # FlaskæœåŠ¡å™¨
â”œâ”€â”€ game_logic.py          # æ¸¸æˆæ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ ai_strategy.py         # AIç­–ç•¥å®ç°
â”œâ”€â”€ game_manager.py        # æ¸¸æˆç®¡ç†å™¨
â””â”€â”€ requirements.txt       # Pythonä¾èµ–
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. å¯åŠ¨æœåŠ¡å™¨

```bash
python app.py
```

### 3. è®¿é—®æ¸¸æˆ

æ‰“å¼€æµè§ˆå™¨è®¿é—®: `http://localhost:5000`

## ğŸ¯ ä½¿ç”¨è¯´æ˜

### æ¸¸æˆæ¨¡å¼

1. **äººç±» vs äººç±»**: ä¸¤ä¸ªç©å®¶è½®æµåœ¨åŒä¸€è®¾å¤‡ä¸Šç‚¹å‡»æ ¼å­ä¸‹æ£‹
2. **äººç±» vs AI**: ä½ å¯¹æŠ—å†…ç½®AI
3. **AI vs AI**: è§‚çœ‹ä¸¤ä¸ªAIå¯¹æˆ˜
4. **è§‚æˆ˜æ¨¡å¼**: çº¯è§‚çœ‹æ¨¡å¼

### æ“ä½œæ­¥éª¤

1. é€‰æ‹©æ¸¸æˆæ¨¡å¼
2. ç‚¹å‡»"å¼€å§‹æ¸¸æˆ"
3. åœ¨æ£‹ç›˜ä¸Šç‚¹å‡»ç©ºç™½æ ¼å­ä¸‹æ£‹
4. æ¸¸æˆç»“æŸåå¯ä»¥é€‰æ‹©"å†æ¥ä¸€å±€"

## ğŸ”Œ APIæ¥å£

### RESTful API

#### åˆ›å»ºæ¸¸æˆ
```http
POST /api/game/create
Content-Type: application/json

{
  "player_x_type": "human",  // human, ai, agent
  "player_o_type": "ai"
}
```

#### è·å–æ¸¸æˆçŠ¶æ€
```http
GET /api/game/{game_id}/state
```

#### ä¸‹æ£‹
```http
POST /api/game/{game_id}/move
Content-Type: application/json

{
  "row": 0,
  "col": 0,
  "player_id": null  // å¯é€‰
}
```

#### AIç§»åŠ¨
```http
POST /api/game/{game_id}/ai-move
```

#### é‡ç½®æ¸¸æˆ
```http
POST /api/game/{game_id}/reset
```

#### SSEäº‹ä»¶æµ
```http
GET /api/game/{game_id}/events
```

### SSEäº‹ä»¶ç±»å‹

- `connected`: è¿æ¥å»ºç«‹
- `move`: ç©å®¶ç§»åŠ¨
- `game_over`: æ¸¸æˆç»“æŸ
- `reset`: æ¸¸æˆé‡ç½®
- `state_update`: çŠ¶æ€æ›´æ–°

## ğŸ¤– AIç­–ç•¥

### SimpleAI (é»˜è®¤)
åŸºäºè§„åˆ™çš„AIï¼Œç­–ç•¥ä¼˜å…ˆçº§ï¼š
1. å¦‚æœèƒ½èµ¢ï¼Œç«‹å³è·èƒœ
2. å¦‚æœå¯¹æ‰‹èƒ½èµ¢ï¼Œé˜»æ­¢å¯¹æ‰‹
3. å æ®ä¸­å¿ƒ
4. å æ®è§’è½
5. å æ®è¾¹ç¼˜

### TicTacToeAI (é«˜çº§)
ä½¿ç”¨Minimaxç®—æ³•with Alpha-Betaå‰ªæ
- æ”¯æŒä¸‰ä¸ªéš¾åº¦çº§åˆ«: easy, medium, hard

### ğŸ†• å¼ºåŒ–å­¦ä¹  Agent (RL Agent)
åŸºäº **Stable-Baselines3** çš„ PPO ç®—æ³•
- ğŸ§  **æ™ºèƒ½å­¦ä¹ **: é€šè¿‡ä¸AIå¯¹æˆ˜ä¸æ–­å­¦ä¹ å’Œæ”¹è¿›
- ğŸ“ˆ **é«˜èƒœç‡**: ç»è¿‡è®­ç»ƒå¯è¾¾ 60-80% èƒœç‡
- ğŸ¯ **ç­–ç•¥ä¼˜åŒ–**: è‡ªåŠ¨å‘ç°æœ€ä¼˜ç­–ç•¥
- ğŸ“š **è¯¦ç»†æ–‡æ¡£**: å‚è§ [RL_AGENT_README.md](RL_AGENT_README.md)

**å¿«é€Ÿå¼€å§‹**:
```bash
# å®‰è£…å¼ºåŒ–å­¦ä¹ ä¾èµ–
pip install -r requirements-rl.txt

# è®­ç»ƒ Agent
python rl_agent.py --train 5000

# æµ‹è¯• Agent
python rl_agent.py --test 10

# è¿ç»­å¯¹æˆ˜
python rl_agent.py --play
```
- å®Œç¾ç­–ç•¥ï¼Œå‡ ä¹ä¸ä¼šè¾“

## ğŸ”§ å¤–éƒ¨Agentæ¥å…¥

### é€šè¿‡APIæ¥å…¥

å¤–éƒ¨AI Agentå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥å…¥ï¼š

1. åˆ›å»ºæ¸¸æˆæ—¶æŒ‡å®šç©å®¶ç±»å‹ä¸º `agent`
2. ä½¿ç”¨SSEç›‘å¬æ¸¸æˆäº‹ä»¶
3. å½“è½®åˆ°Agentæ—¶ï¼Œè°ƒç”¨ `/api/game/{game_id}/move` æ¥å£

### ç¤ºä¾‹ä»£ç  (Python)

```python
import requests
import json

# åˆ›å»ºæ¸¸æˆ
response = requests.post('http://localhost:5000/api/game/create', 
    json={'player_x_type': 'agent', 'player_o_type': 'ai'})
game_id = response.json()['game_id']

# ç›‘å¬äº‹ä»¶
def listen_events():
    url = f'http://localhost:5000/api/game/{game_id}/events'
    with requests.get(url, stream=True) as r:
        for line in r.iter_lines():
            if line.startswith(b'data:'):
                event = json.loads(line[6:])
                if event['type'] == 'move' and event.get('next_player') == 'X':
                    # è½®åˆ°æˆ‘äº†ï¼Œä¸‹æ£‹
                    make_move(game_id, row, col)

def make_move(game_id, row, col):
    requests.post(f'http://localhost:5000/api/game/{game_id}/move',
        json={'row': row, 'col': col})
```

## ğŸ¨ è‡ªå®šä¹‰æ ·å¼

æ‰€æœ‰CSSéƒ½æ˜¯æ¨¡å—åŒ–çš„ï¼Œå¯ä»¥è½»æ¾è‡ªå®šä¹‰ï¼š

- `reset.css`: åŸºç¡€æ ·å¼é‡ç½®
- `layout.css`: æ•´ä½“å¸ƒå±€
- `board.css`: æ£‹ç›˜å¤–è§‚
- `controls.css`: æŒ‰é’®å’Œæ§ä»¶
- `status.css`: çŠ¶æ€æ˜¾ç¤º
- `modal.css`: å¼¹çª—æ ·å¼

## ğŸ“Š æ¸¸æˆè§„åˆ™

1. æ£‹ç›˜ä¸º3x3ç½‘æ ¼
2. Xå…ˆæ‰‹ï¼ŒOåæ‰‹
3. ç©å®¶è½®æµåœ¨ç©ºæ ¼ä¸­æ”¾ç½®æ ‡è®°
4. ç‡å…ˆåœ¨æ¨ªã€ç«–æˆ–æ–œçº¿ä¸Šå½¢æˆè¿ç»­ä¸‰ä¸ªæ ‡è®°çš„ç©å®¶è·èƒœ
5. å¦‚æœæ£‹ç›˜å¡«æ»¡ä»æ— äººè·èƒœï¼Œåˆ™å¹³å±€

## ğŸ”® æœªæ¥æ‰©å±•

ç³»ç»Ÿè®¾è®¡æ”¯æŒä»¥ä¸‹æ‰©å±•ï¼š

- âœ… æ¥å…¥åŸºäºLLMçš„AI Agent
- âœ… æ¥å…¥åŸºäºå¼ºåŒ–å­¦ä¹ (RL)çš„AIç³»ç»Ÿ (**æ–°å¢!**)
- âœ… ä¸¤ä¸ªå¤–éƒ¨Agentç›¸äº’å¯¹å¼ˆ
- âœ… å¤šäººè§‚æˆ˜
- â³ æ¸¸æˆå›æ”¾åŠŸèƒ½
- â³ æ’è¡Œæ¦œç³»ç»Ÿ
- â³ é”¦æ ‡èµ›æ¨¡å¼

## ğŸ¤– å¤–éƒ¨ Agent ç¤ºä¾‹

### 1. éšæœºç­–ç•¥ Agent (`example_agent.py`)
- ç®€å•çš„éšæœºé€‰æ‹©ç­–ç•¥
- é€‚åˆæµ‹è¯•å’Œæ¼”ç¤º
- èƒœç‡çº¦ 10-20%

### 2. å¼ºåŒ–å­¦ä¹  Agent (`rl_agent.py`) ğŸ†•
- åŸºäº PPO ç®—æ³•çš„æ·±åº¦å¼ºåŒ–å­¦ä¹ 
- èƒ½å¤Ÿå­¦ä¹ å’Œæ”¹è¿›ç­–ç•¥
- è®­ç»ƒåèƒœç‡å¯è¾¾ 60-80%
- å®Œæ•´æ–‡æ¡£: [RL_AGENT_README.md](RL_AGENT_README.md)

## ğŸ“ å¼€å‘è¯´æ˜

### å‰ç«¯æ¨¡å—

- `api.js`: å°è£…æ‰€æœ‰APIè°ƒç”¨å’ŒSSEè¿æ¥
- `gameState.js`: ç®¡ç†å®¢æˆ·ç«¯æ¸¸æˆçŠ¶æ€
- `ui.js`: å¤„ç†æ‰€æœ‰UIæ¸²æŸ“å’Œæ›´æ–°
- `events.js`: å¤„ç†ç”¨æˆ·äº¤äº’äº‹ä»¶
- `gameController.js`: åè°ƒå„æ¨¡å—ï¼Œä¸»æ§åˆ¶å™¨

### åç«¯æ¨¡å—

- `game_logic.py`: æ¸¸æˆæ ¸å¿ƒé€»è¾‘å’Œè§„åˆ™
- `ai_strategy.py`: AIç­–ç•¥å®ç°
- `game_manager.py`: ç®¡ç†å¤šä¸ªæ¸¸æˆå®ä¾‹
- `app.py`: FlaskæœåŠ¡å™¨å’ŒAPIç«¯ç‚¹

## ğŸ› æ•…éšœæ’é™¤

### SSEè¿æ¥é—®é¢˜
- ç¡®ä¿æµè§ˆå™¨æ”¯æŒEventSource
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### AIä¸å“åº”
- æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—
- ç¡®è®¤æ¸¸æˆçŠ¶æ€æ­£ç¡®
- éªŒè¯ç©å®¶ç±»å‹è®¾ç½®

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ‘¥ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

---

**äº•å­—æ£‹å†³æ–—åœº** - ä¸€ä¸ªä¸ºAI Agentè®¾è®¡çš„å¯¹æˆ˜å¹³å° ğŸ®
